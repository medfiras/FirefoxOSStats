<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="description" content="Mozilla Marketplace Statistics">
        <meta name="author" content="Progi1984">

        <title>Mozilla Tunisia Marketplace Statistics</title>
        {% block style %}
        <link href="{{ url_for('static', filename='css/bootstrap.min.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/main.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/jquery-jvectormap-2.0.2.css') }}" rel="stylesheet">
        <link href="{{ url_for('static', filename='css/font-awesome.min.css') }}" rel="stylesheet" >

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script>
        <script src="{{ url_for('static', filename='js/bootstrap.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery-jvectormap-2.0.2.min.js') }}"></script>
        <script src="{{ url_for('static', filename='js/jquery-jvectormap-world-mill-en.js') }}"></script>        
        <script src="http://www.google.com/jsapi"></script>
        <script src="http://ankane.github.io/chartkick/chartkick.js"></script>
        {% endblock %}
    </head>
    <body data-spy="scroll" data-target="#navSpy">
        <nav class="navbar navbar-default navbar-fixed-top">
            <div class="container-fluid">
                <div class="navbar-header">
                    <a class="navbar-brand" href="/">Mozilla Tunisia Marketplace Statistics</a>
                </div>
                <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
                    <ul class="nav navbar-nav navbar-right">
                        <li><a href="https://github.com/moztn"><i class="fa fa-github"></i> Github</a></li>
                        <li class="dropdown">
                            <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false"><i class="fa fa-user"></i> Mozilla Tunisia <span class="caret"></span></a>
                            <ul class="dropdown-menu" role="menu">
                                <li><a href="https://github.com/moztn"><i class="fa fa-github"></i> Github</a></li>
                                <li><a href="https://twitter.com/MozillaTunisia"><i class="fa fa-twitter"></i> Twitter</a></li>
                                <li><a href="http://mozilla-tunisia.org"><i class="fa fa-paper-plane"></i> Website</a></li>
                            </ul>
                        </li>
                    </ul>
                </div>
            </div>
        </nav>
        <div class="container-fluid">
            <div class="row">
                <div class="col-sm-3 col-md-2 sidebar" id="navSpy">
                    <ul class="nav nav-sidebar">
                        <li class="active"><a href="#chartNumAppsTitle">Applications</a></li>
                        <li><a href="#chartNumAppsPlatformTitle">Applications per platforms</a></li>
                        <li><a href="#chartNumAppsCategoriesTitle">Applications per categories</a></li>
                        <li><a href="#chartNumAppsStatusTitle">Applications per status</a></li>
                        <li><a href="#chartNumAppsDateCreatedTitle">Applications per creation date</a></li>
                        <li><a href="#chartNumAppsDateUpdatedTitle">Applications per last update date</a></li>
                        <li><a href="#chartNumAppsFileSizeTitle">Applications per file size</a></li>
                        <li><a href="#chartNumAppsStatusDisabledTitle">Applications per disabling status</a></li>
                        <li><a href="#chartNumAppsStatusPackagedTitle">Applications per packaging status</a></li>
                        <li><a href="#chartNumAppsPublicStatsTitle">Applications with public stats</a></li>
                        <li><a href="#chartNumAppsPremiumTypeTitle">Applications per premium type</a></li>
                        <li><a href="#chartNumPaidAppsPerPriceTitle">Paid applications per price</a></li>
                        <li><a href="#chartNumRatingsTitle">Ratings</a></li>
                        <li><a href="#mapRepartitionTitle">Geographic Repartition</a></li>
                        <li><a href="#topPublishersTitle">Top Publishers</a></li>
                        <li><a href="#topRatedAppsTitle">Top Rated Apps</a></li>
                    </ul>
                </div>
                <div class="col-sm-9 col-sm-offset-3 col-md-10 col-md-offset-2 main">
                    <div class="jumbotron">
                        <div class="row">
                            <div class="col-md-2">
                                <img src="{{ url_for('static', filename='img/moztn_logo.png') }}" class="img-responsive" >
                            </div>

                            <div class="col-md-10">
                                <h2>Mozilla Tunisia Marketplace Statistics</h2>
                                <p>
                                    These statistics are calculated from <a href="https://firefox-marketplace-api.readthedocs.org"></a>.                            
                                </p>
                                
                            </div>
                        </div>
                    </div>
                    
                    
                    <h2 class="sub-header" id="chartNumAppsTitle">Applications</h2>
                    <div id="chartApps">{% line_chart dataApps %}</div>

                    <h2 class="sub-header" id="chartNumAppsPlatformTitle">Applications per platforms</h2>
                    <div id="chartNumAppsPlatform"></div>

                    <h2 class="sub-header" id="chartNumAppsCategoriesTitle">Applications per categories</h2>
                    <div id="chartNumAppsCategories"></div>

                    <h2 class="sub-header" id="chartNumAppsStatusTitle">Applications per status</h2>
                    <div id="chartNumAppsStatus"></div>

                    <h2 class="sub-header" id="chartNumAppsDateCreatedTitle">Applications per creation date</h2>
                    <div id="chartNumAppsDateCreated"></div>

                    <h2 class="sub-header" id="chartNumAppsDateUpdatedTitle">Applications per last update date</h2>
                    <div id="chartNumAppsDateUpdated"></div>

                    <h2 class="sub-header" id="chartNumAppsFileSizeTitle">Applications per file size</h2>
                    <div id="chartNumAppsFileSize"></div>

                    <h2 class="sub-header" id="chartNumAppsStatusDisabledTitle">Applications per disabling status</h2>
                    <div id="chartNumAppsStatusDisabled"></div>

                    <h2 class="sub-header" id="chartNumAppsStatusPackagedTitle">Applications per packaging status</h2>
                    <div id="chartNumAppsStatusPackaged"></div>

                    <h2 class="sub-header" id="chartNumAppsPublicStatsTitle">Applications with public stats</h2>
                    <div id="chartNumAppsPublicStats"></div>

                    <h2 class="sub-header" id="chartNumAppsPremiumTypeTitle">Applications per premium type</h2>
                    <div id="chartNumAppsPremiumType"></div>

                    <h2 class="sub-header" id="chartNumPaidAppsPerPriceTitle">Paid applications per price</h2>
                    <div id="chartNumPaidAppsPerPrice"></div>

                    <h2 class="sub-header" id="chartNumRatingsTitle">Ratings</h2>
                    <div id="chartNumRatings"></div>
                    <div id="chartAvgRatings"></div>

                    <h2 class="sub-header" id="mapRepartitionTitle">Geographic Repartition</h2>
                    <div id="mapRepartition" style="height: 400px"></div>


                    <h2 class="sub-header" id="topPublishersTitle">Top Publishers</h2>
                    <table class="table table-bordered table-striped" id="topPublishers">
                        <thead>
                            <tr>
                                <th>Publisher</th>
                                <th>Num Apps</th>
                            </tr>
                        </thead>
                        <tbody></tbody>
                    </table>

                    <h2 class="sub-header" id="topRatedAppsTitle">Top Rated Apps</h2>
                    <table class="table table-bordered table-striped" id="topRatedApps">
                        <thead>
                        <tr>
                            <th>Application</th>
                            <th>Num Ratings</th>
                        </tr>
                        </thead>
                        <tbody></tbody>
                    </table>
                </div>
            </div>
        </div>
        <!-- Piwik -->
        <script type="text/javascript">
            var _paq = _paq || [];
            _paq.push(['trackPageView']);
            _paq.push(['enableLinkTracking']);
            (function() {
                var u="//piwik.rootslabs.net/";
                _paq.push(['setTrackerUrl', u+'piwik.php']);
                _paq.push(['setSiteId', 11]);
                var d=document, g=d.createElement('script'), s=d.getElementsByTagName('script')[0];
                g.type='text/javascript'; g.async=true; g.defer=true; g.src=u+'piwik.js'; s.parentNode.insertBefore(g,s);
            })();
        </script>
        <noscript><p><img src="//piwik.rootslabs.net/piwik.php?idsite=11" style="border:0;" alt="" /></p></noscript>
        <!-- End Piwik Code -->
    </body>
</html>
